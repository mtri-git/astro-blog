---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Header from '../components/Header.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<body class="bg-gradient-to-br from-slate-50 via-white to-blue-50 min-h-screen">
		<Header />
		<main class="max-w-4xl mx-auto px-6 py-12">
			<article class="bg-white rounded-2xl shadow-xl overflow-hidden">
				<!-- Hero Image Section -->
				{heroImage && (
					<div class="w-full h-96 overflow-hidden">
						<Image 
							width={1020} 
							height={510} 
							src={heroImage} 
							alt="" 
							class="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
						/>
					</div>
				)}
				
				<!-- Content Section -->
				<div class="px-8 py-12 max-w-none prose prose-lg prose-blue mx-auto">
					<!-- Title Section -->
					<header class="text-center mb-12 pb-8 border-b border-gray-200">
						<div class="mb-6">
							<time class="inline-flex items-center px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium mb-2">
								<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
								</svg>
								<FormattedDate date={pubDate} />
							</time>
							{updatedDate && (
								<div class="text-sm text-gray-500 italic mt-2">
									Last updated on <FormattedDate date={updatedDate} />
								</div>
							)}
						</div>
						<h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-gray-900 bg-clip-text text-transparent leading-tight mb-4">
							{title}
						</h1>
						{description && (
							<p class="text-xl text-gray-600 leading-relaxed max-w-3xl mx-auto">
								{description}
							</p>
						)}
					</header>
					
					<!-- Article Content -->
					<div class="prose prose-lg prose-blue max-w-none 
								prose-headings:font-bold prose-headings:text-gray-900
								prose-h2:text-2xl prose-h2:mt-12 prose-h2:mb-6
								prose-h3:text-xl prose-h3:mt-8 prose-h3:mb-4
								prose-p:text-gray-700 prose-p:leading-relaxed prose-p:mb-6
								prose-a:text-blue-600 prose-a:font-semibold hover:prose-a:text-blue-800 prose-a:transition-colors
								prose-strong:text-gray-900 prose-strong:font-semibold
								prose-code:bg-gray-100 prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:text-blue-700 prose-code:font-mono prose-code:text-sm
								prose-pre:bg-gray-900 prose-pre:rounded-xl prose-pre:shadow-lg
								prose-blockquote:border-l-4 prose-blockquote:border-blue-500 prose-blockquote:bg-blue-50 prose-blockquote:px-6 prose-blockquote:py-4 prose-blockquote:rounded-r-lg
								prose-ul:space-y-2 prose-ol:space-y-2
								prose-li:text-gray-700">
						<slot />
					</div>
				</div>
			</article>
		</main>
		<Footer />
	</body>
</html>
